<mat-toolbar color="primary" class="toolbar">
  <!-- Menu button for mobile -->
  <button mat-icon-button (click)="toggleSidebar.emit()" class="menu-button">
    <mat-icon>menu</mat-icon>
  </button>

  <!-- App title -->
  <span class="app-title">Café Manager</span>

  <!-- Spacer to push content to the right -->
  <span class="spacer"></span>

  <!-- User info and actions -->
  <div class="user-section">
    <!-- Notifications -->
    <button mat-icon-button [matMenuTriggerFor]="notificationsMenu" class="notification-button">
      <mat-icon [matBadge]="notificationCount" matBadgeColor="warn" matBadgeSize="small">
        notifications
      </mat-icon>
    </button>

    <!-- User menu -->
    <button mat-button [matMenuTriggerFor]="userMenu" class="user-button">
      <mat-icon>account_circle</mat-icon>
      <span class="user-name">{{ currentUser?.firstName }} {{ currentUser?.lastName }}</span>
      <mat-icon>arrow_drop_down</mat-icon>
    </button>
  </div>
</mat-toolbar>

<!-- Notifications Menu -->
<mat-menu #notificationsMenu="matMenu" class="notifications-menu">
  <div class="notification-header">
    <h3>Notificaciones</h3>
  </div>
  <mat-divider></mat-divider>
  <div class="notification-content">
    <div class="notification-item" *ngFor="let notification of notifications">
      <mat-icon class="notification-icon">{{ notification.icon }}</mat-icon>
      <div class="notification-text">
        <p class="notification-title">{{ notification.title }}</p>
        <p class="notification-message">{{ notification.message }}</p>
        <small class="notification-time">{{ notification.time }}</small>
      </div>
    </div>
    <div class="no-notifications" *ngIf="notifications.length === 0">
      <p>No hay notificaciones</p>
    </div>
  </div>
</mat-menu>

<!-- User Menu -->
<mat-menu #userMenu="matMenu" class="user-menu">
  <button mat-menu-item (click)="onProfile()">
    <mat-icon>person</mat-icon>
    <span>Perfil</span>
  </button>
  <button mat-menu-item (click)="onSettings()">
    <mat-icon>settings</mat-icon>
    <span>Configuración</span>
  </button>
  <mat-divider></mat-divider>
  <button mat-menu-item (click)="onLogout()">
    <mat-icon>logout</mat-icon>
    <span>Cerrar Sesión</span>
  </button>
</mat-menu>